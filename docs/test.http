# REST Client collection for MCP FastAPI starter
# Works with VS Code "REST Client" extension.

### Health
GET http://127.0.0.1:8000/health
Accept: application/json

###
# Initialise (start session)
@base = http://127.0.0.1:8000
POST {{base}}/mcp/
Accept: application/json, text/event-stream
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2025-11-25",
    "capabilities": {},
    "clientInfo": { "name": "rest-client", "version": "1.0" }
  }
}

###
# Mark initialised
POST {{base}}/mcp/
Accept: application/json, text/event-stream
Content-Type: application/json
Mcp-Session-Id: {{^.response.headers.Mcp-Session-Id}}

{
  "jsonrpc": "2.0",
  "method": "notifications/initialized",
  "params": {}
}

###
# List tools
POST {{base}}/mcp/
Accept: application/json, text/event-stream
Content-Type: application/json
Mcp-Session-Id: {{^.response.headers.Mcp-Session-Id}}

{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/list",
  "params": {}
}

###
# Call echo
POST {{base}}/mcp/
Accept: application/json, text/event-stream
Content-Type: application/json
Mcp-Session-Id: {{^.response.headers.Mcp-Session-Id}}

{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "echo",
    "arguments": { "text": "Hello from REST Client" }
  }
}

###
# Call add
POST {{base}}/mcp/
Accept: application/json, text/event-stream
Content-Type: application/json
Mcp-Session-Id: {{^.response.headers.Mcp-Session-Id}}

{
  "jsonrpc": "2.0",
  "id": 4,
  "method": "tools/call",
  "params": {
    "name": "add",
    "arguments": { "a": 2, "b": 3 }
  }
}
